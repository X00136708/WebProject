(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{258:function(e,t,n){__NEXT_REGISTER_PAGE("/news",function(){return e.exports=n(346),{page:e.exports.default}})},28:function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest;for(var s in o.open(t.method||"get",e,!0),t.headers)o.setRequestHeader(s,t.headers[s]);function a(){var e,t=[],n=[],r={};return o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(o,s,a){t.push(s=s.toLowerCase()),n.push([s,a]),r[s]=(e=r[s])?e+","+a:a}),{ok:2==(o.status/100|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:a,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}o.withCredentials="include"==t.credentials,o.onload=function(){n(a())},o.onerror=r,o.send(t.body||null)})}},29:function(e,t,n){e.exports=window.fetch||(window.fetch=n(28).default||n(28))},346:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),s=n(9),a=n.n(s),i=n(0),c=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==l(o)&&"function"!=typeof o?m(r):o).state={visible:n.props.visible,options:n.props.options,selected:n.props.selected},n.toggle=n.toggle.bind(m(m(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=this,t=c.a.createElement("style",{jsx:!0},"\n            .list {\n                list-style-type: none;\n                width: 22.5%;\n                margin-left: 19em;\n                padding: 1em;\n                \n                \n            }\n            .ref {\n                background-color: #f2ddff;\n                border: 1px solid black;\n                text-align: center;\n                font-size: 18px;\n                border-radius: 1em;\n                \n            }\n            .ref:hover {\n                background-color: gray;\n            }\n            #head {\n                border-radius: 1em;\n                font-size: 22px;\n                background-color:purple;\n            }\n        "),n=c.a.createElement("li",{id:"head",class:"ref",onClick:this.toggle,key:this.state.options.ref},this.state.options[this.state.selected].text),r=this.state.options.map(function(t){return c.a.createElement("li",{class:"ref",onClick:function(){return e.menuRefresh(t)}},t.text)});return this.state.visible?c.a.createElement("div",{class:"list"},n,r,t):c.a.createElement("div",{class:"list"},n,t)}},{key:"toggle",value:function(){this.setState({visible:this.state.visible=!this.state.visible,options:this.state.options,numOptions:this.state.numOptions})}},{key:"changeHeader",value:function(e){for(var t=0;t<this.state.options.length;t++)this.state.options[t].ref===e.ref&&this.setState({selected:t})}},{key:"menuRefresh",value:function(e){this.changeHeader(e),this.props.setNewsSource(e.ref)}},{key:"addref",value:function(e,t){this.setState({visible:this.visible,options:this.state.options.push({ref:e,text:t}),numOptions:this.state.numOptions})}}])&&u(n.prototype,r),o&&u(n,o),t}(),d=n(15),b=n.n(d),y=n(29),w=n.n(y);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){function t(e){var n,r,o,s,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=g(t).call(this,e),n=!o||"object"!==x(o)&&"function"!=typeof o?E(r):o,s=E(E(n)),i=function(e){""!=e.target.newsSource.value&&n.props.setNewsSource(e.target.newsSource.value),e.preventDefault()},(a="formSubmitted")in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i,n.state={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{id:"search",className:"jsx-3989231330"},c.a.createElement("h3",{className:"jsx-3989231330"},"Enter a news source"),c.a.createElement("form",{onSubmit:this.formSubmitted,className:"jsx-3989231330"},c.a.createElement("input",{name:"newsSource",placeholder:"e.g: the-irish-times",type:"text",className:"jsx-3989231330"}),c.a.createElement("button",{className:"jsx-3989231330"},"Get News")),c.a.createElement(a.a,{styleId:"3989231330",css:["#search.jsx-3989231330{margin-left:23.4em;}","#search.jsx-3989231330 h3.jsx-3989231330{margin-left:1.8em;}"]})))}}])&&v(n.prototype,r),o&&v(n,o),t}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function a(e){T(s,r,o,a,i,"next",e)}function i(e){T(s,r,o,a,i,"throw",e)}a(void 0)})}}n.d(t,"default",function(){return D});var I="3780066b33ef41b9b4b7e957994e9c38";function R(e){return M.apply(this,arguments)}function M(){return(M=A(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w()(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}))).apply(this,arguments)}var D=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=O(t).call(this,e),n=!o||"object"!==S(o)&&"function"!=typeof o?_(r):o,C(_(_(n)),"setNewsSource",function(e){n.setState({newsSource:e,url:"https://newsapi.org/v2/top-headlines?sources=".concat(e,"&apiKey=").concat(I)})}),C(_(_(n)),"searchNewsAPI",function(e){n.setState({newsSource:"".concat(e.target.innerText),url:"https://newsapi.org/v2/".concat(e.target.name,"&apiKey=").concat(I)}),console.log(n.state.url)}),n.state={newsSource:"",url:"",articles:[],index:0},n}var n,r,s,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,c.a.Component),n=t,r=[{key:"updateID",value:function(e){console.log("hi"),this.setState({index:e})}},{key:"render",value:function(){return 0==this.state.articles.length&&(this.state.articles=this.props.articles),c.a.createElement("div",{className:"jsx-1012521257"},c.a.createElement(h,{setNewsSource:this.setNewsSource,selected:0,options:[{ref:"die-zeit",text:"Die Zeit"},{ref:"hacker-news",text:"Hacker News"},{ref:"infobae",text:"Infobae"},{ref:"les-echos",text:"Les Echos"}]}),c.a.createElement(k,{setNewsSource:this.setNewsSource}),c.a.createElement("ul",{className:"jsx-1012521257 newsMenu"},c.a.createElement("li",{className:"jsx-1012521257"},c.a.createElement("a",{href:"#",onClick:this.searchNewsAPI,name:"top-headlines?sources=abc-news",className:"jsx-1012521257"},"ABC News")),c.a.createElement("li",{className:"jsx-1012521257"},c.a.createElement("a",{href:"#",onClick:this.searchNewsAPI,name:"top-headlines?sources=cbc-news",className:"jsx-1012521257"},"CBC News")),c.a.createElement("li",{className:"jsx-1012521257"},c.a.createElement("a",{href:"#",onClick:this.searchNewsAPI,name:"top-headlines?sources=fox-news",className:"jsx-1012521257"},"Fox News")),c.a.createElement("li",{className:"jsx-1012521257"},c.a.createElement("a",{href:"#",onClick:this.searchNewsAPI,name:"top-headlines?sources=bbc-news",className:"jsx-1012521257"},"BBC News"))),c.a.createElement("h3",{className:"jsx-1012521257"},this.state.newsSource.split("-").join(" ")),c.a.createElement("div",{className:"jsx-1012521257"},this.state.articles.map(function(e,t){return c.a.createElement("section",{key:t,className:"jsx-1012521257"},c.a.createElement("h3",{className:"jsx-1012521257"},e.title),c.a.createElement("p",{className:"jsx-1012521257 author"},e.author," ",Date(e.publishedAt)),c.a.createElement("img",{src:e.urlToImage,alt:"article image",className:"jsx-1012521257 img-article"}),c.a.createElement("p",{className:"jsx-1012521257"},e.description),c.a.createElement("p",{className:"jsx-1012521257"},e.content),c.a.createElement("p",{className:"jsx-1012521257"},c.a.createElement(b.a,{as:"/article/".concat(t),onClick:"updateID(".concat(t,")"),href:"/article?id=".concat(t)},c.a.createElement("a",{className:"jsx-1012521257"},"Read More"))))})),c.a.createElement(a.a,{styleId:"1012521257",css:["section.jsx-1012521257{width:50%;border:1px solid red;background-color:#f2ddff;padding:1em;padding-top:0em;margin-left:5em;}","section.jsx-1012521257 h3.jsx-1012521257{color:blue;-webkit-text-decoration:bold;text-decoration:bold;}",".author.jsx-1012521257{font-style:italic;font-size:0.8em;}",".img-article.jsx-1012521257{max-width:90%;}",".newsMenu.jsx-1012521257{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:5em;margin-right:42em;padding:0;margin-top:20px;}",".newsMenu.jsx-1012521257 li.jsx-1012521257{display:inline-table;margin-left:6em;font-weight:bold;}",".newsMenu.jsx-1012521257 li.jsx-1012521257 a.jsx-1012521257{font-size:1em;color:red;display:block;-webkit-text-decoration:none;text-decoration:none;}",".newsMenu.jsx-1012521257 li.jsx-1012521257 a.jsx-1012521257:hover{color:black;-webkit-text-decoration:underline;text-decoration:underline;}"]}))}},{key:"componentDidUpdate",value:(l=A(o.a.mark(function e(t,n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.url===n.url){e.next=5;break}return e.next=3,R(this.state.url);case 3:r=e.sent,Array.isArray(r.articles)?(this.state.articles=r.articles,this.setState(this.state)):(console.error(r),response&&(response.statusCode=400,response.end(r.message)));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})}],s=[{key:"getInitialProps",value:(i=A(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://newsapi.org/v2/top-headlines?sources=".concat("the-irish-times","&apiKey=").concat(I),e.next=3,R(n);case 3:if(r=e.sent,!Array.isArray(r.articles)){e.next=8;break}return e.abrupt("return",{articles:r.articles});case 8:console.error(r),t&&(t.statusCode=400,t.end(r.message));case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})}],r&&N(n.prototype,r),s&&N(n,s),t}()},4:function(e,t,n){e.exports=n(56)}},[[258,1,0]]]);